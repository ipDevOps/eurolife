@using Wedia.Feature.EurolifeCalculatorTool.Models
@using Wedia.Feature.EurolifeCalculatorTool
@using Wedia.Foundation.Dictionary.Extensions
@using Wedia.Foundation.SitecoreExtensions.Extensions
@model CalculatorToolPageViewModel


@Html.Partial("~/Views/EurolifeCalculatorTool/Common/Breadcrumb.cshtml", Model.RenderingItem)

<section class="m-b-46 center--1100 center loading js-loading">
  <div id="step-content">
    @Html.Partial("~/Views/EurolifeCalculatorTool/Steps/Step1.cshtml", Model)
  </div><!-- End step content-->

  <div class="validation-success m-b-24 hidden" id="calculator-success">
    <?xml version="1.0" encoding="UTF-8" ?>
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="24px" height="24px">
      <g id="surface10490669">
        <path style=" stroke:none;fill-rule:nonzero;fill:rgb(0%,52.941179%,34.509805%);fill-opacity:1;" d="M 12 2 C 6.488281 2 2 6.488281 2 12 C 2 17.511719 6.488281 22 12 22 C 17.511719 22 22 17.511719 22 12 C 22 6.488281 17.511719 2 12 2 Z M 12 4 C 16.429688 4 20 7.570312 20 12 C 20 16.429688 16.429688 20 12 20 C 7.570312 20 4 16.429688 4 12 C 4 7.570312 7.570312 4 12 4 Z M 11 7 L 11 9 L 13 9 L 13 7 Z M 11 11 L 11 17 L 13 17 L 13 11 Z M 11 11 " />
      </g>
    </svg>

    <span>
      @Html.Sitecore().Dictionary("/EurolifeCalculatorTool/Step2/Proceed", "Success")
    </span>
  </div>
  <div class="hidden validation-error m-t-24 m-b-48" id="calculator-custom-validation"></div>


  <div class="t-r m-b-48" id="common-button-wrapper">
    <a href="#app" class="btn btn--default btn--dark btn--inactive" id="go-to-next-step"
       data-itemid="@Model.RenderingItem.ID"
       data-nextstep="step-2"
       data-loadfrombreadcrumb="false"
       onclick="showNextStep(this, arguments);">@Html.Sitecore().Dictionary("/EurolifeCalculatorTool/Common/Buttons/Next", "Next Button")</a>
    </div>
  </section>

  <section class="center center--920 m-b-112">
    <div class=" tool-cta">
      <div class="tool-cta__text color-faded">
        @if (Model.RenderingItem.FieldHasValue(Templates.HasInfoBox.Fields.Description))
        {
          @Model.RenderingItem.Fields[Templates.HasInfoBox.Fields.Description]
        }
      </div>

      @if (Model.RenderingItem.FieldHasValue(Templates.HasInfoBox.Fields.CTA))
      {
        var linkURL = Model.RenderingItem.LinkFieldUrl(Templates.HasInfoBox.Fields.CTA);
        var linkDescription = Model.RenderingItem.LinkFieldOptions(Templates.HasInfoBox.Fields.CTA, Wedia.Foundation.SitecoreExtensions.Extensions.LinkFieldOption.Text);
        <a class="tool-cta__tel  color-faded" href="@linkURL">@linkDescription</a>
      }
    </div>
  </section>